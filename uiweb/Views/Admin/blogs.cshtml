@{
    Layout = "_admin";
    ViewData["title"] = "Admin | Blogs";
}
@model ICollection<Blog>

@foreach (var item in Model)
{
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <p>Title: @item.title</p>
                        <p>Comments: @item.Comments.Count()</p>
                        <p>date: @item.Date.ToString($"{0:dd/MM/yyyy}")</p>
                    </div>
                    <div class="col-md-9">
                        <p>
                            description: <br />
                            @item.description.Substring(0,200);
                        </p>
                    </div>
                    <hr>
                    <div class="col-md-12 d-flex justify-content-between">
                        <a asp-controller="admin" asp-action="HiddenBlog" asp-route-id="@item.id"
                        class="btn btn-outline-@(item.hidden?"danger":"success") mx-4"><i
                            class="fas fa-check-circle fa-2x "></i></a>
                        <a href="#" data-bs-toggle="modal" data-bs-target="#name@(item.id)"
                        class="btn btn-outline-warning"><i class="fas fa-check-circle"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="name@(item.id)" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form asp-controller="admin" class="form-group row" asp-action="comments" method="post">
                    <div class="card">
                        <img src="@item.image" class="card-img-top rounded" alt="image">
                        <input class="form-control" asp-for="@item.image">
                        <input asp-for=@item.id type="hidden">
                        <input asp-for="@item.title" placeholder="url" class="form-control">
                        <textarea asp-for="@item.description" placeholder="description" class="form-control"
                        rows="30"></textarea>
                        
                        <span class="d-flex justify-content-between">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#name@(item.id)" class="btn btn-danger px-4">Cancel</a>
                        <button type="submit" class="btn btn-success px-4">OK</button>
                        </span>
                    </div>
                </form>
            </div>
        </div>
    </div>
}